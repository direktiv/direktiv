kind: ZarfPackageConfig 
metadata:
  name: knative 
  version: 1.17.0
  description: "knative installation"

variables:
- name: KNATIVE_HTTP_PROXY
  default: ""
- name: KNATIVE_HTTPS_PROXY
  default: ""
- name: KNATIVE_NO_PROXY
  default: ""

components:
- name: knative
  required: true
  actions:
    onDeploy:
      after:
      - cmd: zarf tools kubectl delete namespace contour-external
  manifests:
  - name: operator
    namespace: knative-operator
    files:
      - operator.yaml
  - name: knative
    namespace: knative-serving
    files:
      - basic.yaml
  - name: contour
    namespace: contour-internal
    files:
      - contour.yaml
    noWait: true
  images:
  - gcr.io/knative-releases/knative.dev/operator/cmd/operator:v1.17.5
  - gcr.io/knative-releases/knative.dev/operator/cmd/webhook:v1.17.5
  - docker.io/direktiv/activator:v1.16.3
  - docker.io/direktiv/autoscaler:v1.16.3
  - docker.io/direktiv/controller:v1.16.3
  - docker.io/direktiv/webhook:v1.16.3
  - docker.io/direktiv/queue:v1.16.3
  - docker.io/direktiv/autoscaler-hpa:v1.16.3
  - docker.io/direktiv/cleanup:v1.16.3
  - docker.io/direktiv/migrate:v1.16.3
  - ghcr.io/projectcontour/contour:v1.30.1
  - docker.io/envoyproxy/envoy:v1.31.3



  
  